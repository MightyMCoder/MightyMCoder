/*!
    Title: Personal Portfolio MightyMCoder (Scripts)
    Version: 1.0.0
    Last Change: 05/21/2025
    Author: MightyMCoder
    Repo: https://github.com/MightyMCoder/MightyMCoder

    based on:
        Title: Dev Portfolio Template
        Version: 1.2.2
        Last Change: 03/25/2020
        Author: Ryan Fitzgerald
        Repo: https://github.com/RyanFitzgerald/devportfolio-template
        Issues: https://github.com/RyanFitzgerald/devportfolio-template/issues
        
    Description: This file contains all the scripts associated with the single-page
    portfolio website.
*/
(a=>{var n={init:function(){this.cacheSelectors(),this.bindEvents(),this.initVariables(),this.setCurrentYear(),this.removeNoJsClass(),this.setupLanguage(),this.setupBackToTop()},cacheSelectors:function(){this.$html=a("html"),this.$body=a("body"),this.$header=a("header"),this.$currentYear=a("#current-year"),this.$menu=document.getElementById("menu"),this.$languageSwitcher=a("#language-switcher"),this.$mobileMenuOpen=a("#mobile-menu-open"),this.$mobileMenuClose=a("#mobile-menu-close"),this.$viewMore=a("#view-more-projects"),this.$hideMore=a("#hide-more-projects"),this.$moreProjects=a("#more-projects"),this.$leadTextSpan=a("#lead-text-span"),this.$leadTexts=a("#lead-texts-to-type span")},bindEvents:function(){var t=this;a(document).ready(function(){t.registerNavigation(),t.bindLanguageSwitcher(),t.bindMobileMenu(),t.bindProjectToggle()}),document.addEventListener("DOMContentLoaded",function(){t.bindBackToTop(),window.addEventListener("resize",t.syncProjectHeights.bind(t)),t.resetForms(),window.addEventListener("pageshow",function(e){e.persisted&&t.resetForms()})})},initVariables:function(){this.texts=[],this.textIndex=0,this.charIndex=0,this.typingTimeout=null,this.erasingTimeout=null},setCurrentYear:function(){this.$currentYear.text((new Date).getFullYear())},removeNoJsClass:function(){this.$html.removeClass("no-js")},registerNavigation:function(){var i=this;document.querySelectorAll("header a:not(.no-scroll)").forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),i.handleNavigationClick(t)})})},handleNavigationClick:function(e){this.$header.hasClass("active")&&(this.$header.removeClass("active"),this.$body.removeClass("active"));var e=e.getAttribute("href"),e=document.querySelector(e),t=this.$menu.offsetHeight;e&&(e=e.getBoundingClientRect().top+window.pageYOffset-t,window.scrollTo({top:e,behavior:"smooth"}))},setupLanguage:function(){var e=localStorage.getItem("lang")||"de";this.loadLanguage(e)},bindLanguageSwitcher:function(){var t=this;a("#language-switcher .dropdown-item").on("click",function(e){e.preventDefault();e=a(e.currentTarget).data("lang");t.loadLanguage(e),localStorage.setItem("lang",e)})},loadLanguage:function(e){var i=this;this.$html.attr("lang",e),a("#form-language").val(e),this.updateLanguageButton(e),a.ajax({url:"languages/"+e+".xml",dataType:"xml",success:function(e){var t={};a(e).find("string").each(function(){var e=a(this).attr("name");t[e]=a(this).text()}),a("[data-i18n]").each(function(){var e=a(this).attr("data-i18n");t[e]&&a(this).html(t[e])}),a("[data-i18n-date]").each(function(){var e=a(this).attr("data-i18n-date");t[e]&&a(this).attr("data-date",t[e])}),a("[data-i18n-placeholder]").each(function(){var e=a(this).attr("data-i18n-placeholder");t[e]&&a(this).attr("placeholder",t[e])}),i.texts=[],i.$leadTexts.each(function(){var e=a(this).attr("data-i18n");t[e]&&(a(this).html(t[e]),n.texts.push(t[e]))}),i.clearTypingTimers(),i.textIndex=0,i.charIndex=0,i.$leadTextSpan.text(""),i.typeNextText(),i.syncProjectHeights(),i.rebuildTimeline("#experience-timeline","fa fa-briefcase"),i.rebuildTimeline("#education-timeline","fa fa-graduation-cap")},error:function(){console.error("Language file not found: "+e)}})},updateLanguageButton:function(e){var t=a("#language-switcher button");switch(e){case"de":t.attr("data-i18n","LANG_GERMAN");break;case"en":t.attr("data-i18n","LANG_ENGLISH");break;case"fr":t.attr("data-i18n","LANG_FRENCH")}},clearTypingTimers:function(){this.typingTimeout&&(clearTimeout(this.typingTimeout),this.typingTimeout=null),this.erasingTimeout&&(clearTimeout(this.erasingTimeout),this.erasingTimeout=null)},typeNextText:function(){var e=this,t=this.texts[this.textIndex]||"";this.charIndex<t.length?(this.$leadTextSpan.text(this.$leadTextSpan.text()+t.charAt(this.charIndex)),this.charIndex++,this.typingTimeout=setTimeout(function(){return e.typeNextText()},50)):(this.typingTimeout=null,this.erasingTimeout=setTimeout(function(){return e.eraseText()},2e3))},eraseText:function(){var e=this;0<this.charIndex?(this.$leadTextSpan.text(this.$leadTextSpan.text().slice(0,-1)),this.charIndex--,this.erasingTimeout=setTimeout(function(){return e.eraseText()},30)):(this.textIndex=(this.textIndex+1)%this.texts.length,this.erasingTimeout=setTimeout(function(){return e.typeNextText()},500))},syncProjectHeights:function(){a(".project").each(function(){var e=a(this),t=e.find(".project-image"),e=e.find(".project-info");t.length&&e.length&&(t.css("height","auto"),t.css("height",e.outerHeight()+"px"))})},rebuildTimeline:function(e,i){var n=a(e),t=[];n.children(".vtimeline-point").each(function(){var e=a(this).find(".vtimeline-content").first();e.length&&(e.removeClass("vtimeline-content"),e.children(".vtimeline-date").remove(),t.push(e.detach()))}),t.length||n.children("div").each(function(){t.push(a(this).detach())}),n.empty(),t.forEach(function(e){e.addClass("vtimeline-content");var t=e.attr("data-date")||"",e=a('<div class="vtimeline-block"></div>').append(e),e=a('<div class="vtimeline-point"></div>').append('<div class="vtimeline-icon"><i class="'+i+'"></i></div>').append(e);t&&e.prepend('<span class="vtimeline-date">'+t+"</span>"),n.append(e)})},bindMobileMenu:function(){var t=this;this.$mobileMenuOpen.on("click",function(e){e.preventDefault(),t.$header.addClass("active"),t.$body.addClass("active")}),this.$mobileMenuClose.on("click",function(e){e.preventDefault(),t.$header.removeClass("active"),t.$body.removeClass("active")})},bindProjectToggle:function(){var t=this;this.$viewMore.on("click",function(e){e.preventDefault(),t.toggleProjects(!0)}),this.$hideMore.on("click",function(e){e.preventDefault(),t.toggleProjects(!1)})},toggleProjects:function(e){var t=this;e?this.$viewMore.fadeOut(300,function(){t.$moreProjects.slideDown(500),t.$hideMore.fadeIn(300),t.syncProjectHeights()}):this.$hideMore.fadeOut(300,function(){t.$moreProjects.slideUp(500),t.$viewMore.fadeIn(300)})},setupBackToTop:function(){this.$backToTopBtn=a("#back-to-top")},bindBackToTop:function(){var e=this;this.$backToTopBtn.length&&(window.addEventListener("scroll",function(){300<window.scrollY?e.$backToTopBtn.addClass("visible"):e.$backToTopBtn.removeClass("visible")}),this.$backToTopBtn.on("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}))},resetForms:function(){document.querySelectorAll("form").forEach(function(e){return e.reset()})}};n.init()})(jQuery);